<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;
	font-weight:normal;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US>

<div class=WordSection1>

<h1 align=center style='text-align:center'>Game Engine Documentation</h1>

<p class=MsoNormal style='text-align:justify'>&nbsp;</p>

<p class=MsoNormal style='text-align:justify'>As part of a class project for
CSC 481/591 course at NCSU, we have developed a simple 2D game engine.</p>

<h2 style='text-align:justify'>&nbsp;</h2>

<h2 style='text-align:justify'>Sample Games</h2>

<p class=MsoListParagraphCxSpFirst style='text-align:justify;text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Little
Alchemy</p>

<p class=MsoListParagraphCxSpMiddle style='text-align:justify;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Snake</p>

<p class=MsoListParagraphCxSpMiddle style='text-align:justify;text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Bubble
Shooter</p>

<p class=MsoListParagraphCxSpMiddle style='text-align:justify;text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Multiplayer
Snake (Local, and Networked)</p>

<p class=MsoListParagraphCxSpMiddle style='text-align:justify;text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Cops
and Robbers</p>

<p class=MsoListParagraphCxSpLast style='margin-left:0in;text-align:justify'>&nbsp;</p>

<h2 style='text-align:justify'>Features and Subsystems</h2>

<p class=MsoNormal style='text-align:justify'>Our game engine, although simple,
comprises many cool features of a modern game engine.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Both
Component and Inheritance Based</h3>

<p class=MsoNormal style='text-align:justify'>Our game engine maintains a
mixture of both architectures. It defines a hierarchy of classes and supports
further inheritances. At the same time, it maintains a list of different
components, e.g., sprites, timers, and scores. The Sprite class has an array of
instances of the Picture class. The mixture provides the developers with a
certain amount of flexibility and design choices.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Platform:
Browser</h3>

<p class=MsoNormal style='text-align:justify'>Our engine uses HTML canvas, and
JavaScript. Thus, it is cross compatible with different OS. It is tested on the
most recent versions, as of the release date, of Chrome, Firefox, and Microsoft
Edge browsers. It should be compatible with other browsers. We do not guarantee
that it will support a very old version of a browser though.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Sprites,
Scores, and Timers</h3>

<p class=MsoNormal style='text-align:justify'>All entities in our engine are
sprites (except scores, timers, and the elements in heads-up-display). A sprite
may have an imported image, or just a basic shape. To be more specific, each
sprite may have an array of pictures; each component picture may be object of
different classes. These classes can be extended by the developer. Our engine
supports scoring. It provides a session storage for high score of any game
developed in it. However, a game may not use this storage, if not required. It
also facilitates defining and displaying timers. In addition, it allows passing
a function to be triggered by a timer event. We also provide the system time,
and the delta between update calls.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>I/O</h3>

<p class=MsoNormal style='text-align:justify'>Our engine provides a basic
interface for keyboard and mouse events. Any game-specific i/o functionality
must be implemented by the developer.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Rendering
Loop</h3>

<p class=MsoNormal style='text-align:justify'>Our engine maintains the basic rendering
loop. The FPS is hardcoded to 60; it may be changed by the developer for any
game. It also defines the basic end-game functionality.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Rendering
Subsystem</h3>

<p class=MsoNormal style='text-align:justify'>Our engine renders sprites. It
also facilitates a heads-up-display to show scores and timers. It can render
any image supported by the current JavaScript version for HTML canvas. For
imported images, it does not support any rotation; it permits only axis aligned
rectangular images. However, it also supports drawing basic shapes. A sprite
may be not drawable as well.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Shading
Pipeline</h3>

<p class=MsoNormal style='text-align:justify'>Before drawing the sprites, a
shading function is called by the engine, which needs to be provided by the
developer if any shading is required.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Animation</h3>

<p class=MsoNormal style='text-align:justify'>Our engine supports
spritesheet-based animations.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Particle
System</h3>

<p class=MsoNormal style='text-align:justify'>We have not implemented any
generalized particle system in our engine. The developers need to extend the
Sprite and the GridSprite classes in a meaningful way to create a particle
system. An example is provided in the Bubble Shooter game.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Collision Subsystem</h3>

<p class=MsoNormal style='text-align:justify'>The axis aligned bounding boxes
of all sprite pictures are maintained in a quad-tree. Once the bounding boxes
of two pictures collide, a call to a narrow-phase function is made to determine
whether the pictures have actually collided. This function may be overridden by
the developer to define game-specific narrow-phase collision detection. Again,
an object may be not collidable. Our engine only detects collisions; upon
detection it calls a method to resolve collisions, which must be provided by
the developers.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Physics</h3>

<p class=MsoNormal style='text-align:justify'>We support collision as
mentioned. Any movement, or other physics must be defined by the developer.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>12.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Networking Subsystem</h3>

<p class=MsoNormal style='text-align:justify'>Our engine provides basic
networking facility over Peer.js. More complex networking must be defined by
the developer by extending the provided classes.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>13.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>AI Subsystem</h3>

<p class=MsoNormal style='text-align:justify'>Our engine provides generalized
search algorithms, like BFS and A*, over a grid. The specific constraints may
be passed to those procedures by the developer. We have not implemented any
decision/behavior tree due to time constraints.</p>

<h3 style='margin-left:.5in;text-align:justify;text-indent:-.25in'>14.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Data Structures, and Math
Libraries</h3>

<p class=MsoNormal style='text-align:justify'>We have implemented a basic
queue, a binomial heap, and a quad tree inside the engine. The developers may
use these, and basic data structures of JavaScript. We have provided a few
mathematical functions as well.</p>

<p class=MsoNormal style='text-align:justify'>&nbsp;</p>

<p class=MsoNormal style='text-align:justify'>&nbsp;</p>

<span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-size:13.0pt;line-height:107%;font-family:
"Calibri Light",sans-serif;color:#2F5496'>&nbsp;</span></p>

<h2 style='text-align:justify'>Getting Started</h2>

<p class=MsoNormal>To download this engine and get started on a game, download the
zip file containing all engine files. Once you have downloaded the engine, you
will need to start by creating a JavaScript file that will contain all game
code.</p>

<h3 style='margin-left:.5in;text-indent:-.25in'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>File Overview</h3>

<p class=MsoNormal>Our engine is segmented into several JavaScript files, which
helps keep things manageable when making changes to the engine.</p>

<h3 style='margin-left:1.0in;text-indent:-.25in'>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Engine.js</h3>

<p class=MsoNormal style='margin-left:.75in'>This file contains the basic
functions needed for the engine to run. This includes the initialization function,
the game loop, draw and update functions, and the game end function.</p>

<h3 style='margin-left:1.0in;text-indent:-.25in'>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Entities.js</h3>

<p class=MsoNormal style='margin-left:.75in'>Here is all of the different types
of objects that are instantiable in a game. The most common classes to inherit
from in this file are Sprite and Picture, which allows objects to be displayed
and interacted with in the game.</p>

<h3 style='margin-left:1.0in;text-indent:-.25in'>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Collision.js</h3>

<p class=MsoNormal style='margin-left:.75in'>This file contains all the needed
collisions functions, including a quad tree to optimize collision detection.
The actual quad tree implementation is in the ds.js file.</p>

<h3 style='margin-left:1.0in;text-indent:-.25in'>d.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Other</h3>

<p class=MsoNormal style='margin-left:.75in'>Other files, such as utilities.js
and keyboard.js provide additional utilities for the engine.</p>

<h3 style='margin-left:.5in;text-indent:-.25in'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Necessary Functions</h3>

<p class=MsoNormal>To start making a game, there are several functions that
need to be written in the game JavaScript file.</p>

<h3 style='margin-left:1.0in;text-indent:-.25in'>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>contentInit</h3>

<p class=MsoNormal style='margin-left:.75in'>This function contains
initialization code for the game, and is run once before the game loop starts.
Use this method to set up a level, create objects, and set any variables
needed.</p>

<h3 style='margin-left:1.0in;text-indent:-.25in'>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>contentUpdate</h3>

<p class=MsoNormal style='margin-left:.75in'>This is the main update function
of the game. This will run every tick (defined in the engine.js file), and
should be used to update any necessary objects during gameplay.</p>

<h3 style='margin-left:1.0in;text-indent:-.25in'>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>contentDraw / contentShade</h3>

<p class=MsoNormal style='margin-left:.75in'>These are also called every tick,
and are used to draw all objects in the scene. Also draw any HUD elements in
these methods.</p>

<h3 style='margin-left:1.0in;text-indent:-.25in'>d.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>resolveCollisions</h3>

<p class=MsoNormal style='margin-left:.75in'>This method handles all collisions
during the game. The parameters for this function are the sprite id, picture id,
and collision candidates, respectively. Because all collisions are handled
inside this one method, you need to check the type of object being collided,
and then handle any resolutions. See example projects for a sample method.</p>

<h3 style='margin-left:1.0in;text-indent:-.25in'>e.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>selectMousePics</h3>

<p class=MsoNormal style='margin-left:.75in'>Allows the player to click on
pictures. Runs a collision detection on the x, y position of the mouse to find
any picture on the same spot.</p>

<p class=MsoNormal>Once these methods are overridden, the game should be able
to run. To add functionality, you will need to override the Sprite class and
create some basic objects for the game, as well as a level. Extending the
MouseActions and KeyActions classes allows you to add user input to your game.
See the example gallery for sample code.</p>

<p class=MsoNormal style='text-align:justify'>&nbsp;</p>

</div>

</body>

</html>
